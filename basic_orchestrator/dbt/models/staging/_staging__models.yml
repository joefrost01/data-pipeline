version: 2

models:
  - name: stg_futures_order_events
    description: |
      Staged futures order events with defensive typing.
      One row per order lifecycle event.
    
    columns:
      - name: event_timestamp_utc
        description: Event timestamp in UTC
        tests:
          - not_null:
              severity: warn
      
      - name: event_seq
        description: Sequence number within the order
        tests:
          - not_null:
              severity: warn
      
      - name: event_type
        description: Event type
        tests:
          - not_null:
              severity: warn
          - accepted_values:
              values: ['NEW', 'SENT', 'ACK', 'PARTIAL_FILL', 'FILL', 'CANCEL', 'REJECTED']
              severity: warn
      
      - name: order_id
        description: Unique order identifier
        tests:
          - not_null:
              severity: warn
      
      - name: trader_id
        description: Trader identifier
        tests:
          - not_null:
              severity: warn
      
      - name: desk
        description: Trading desk
        tests:
          - not_null:
              severity: warn
      
      - name: book
        description: Trading book
        tests:
          - not_null:
              severity: warn
      
      - name: symbol
        description: Instrument symbol
        tests:
          - not_null:
              severity: warn
      
      - name: exchange
        description: Exchange code
        tests:
          - not_null:
              severity: warn
      
      - name: side
        description: Order side
        tests:
          - not_null:
              severity: warn
          - accepted_values:
              values: ['BUY', 'SELL']
              severity: warn
